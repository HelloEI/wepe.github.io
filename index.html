<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>wepon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一个机器学习爱好者的主页">
<meta property="og:type" content="website">
<meta property="og:title" content="wepon">
<meta property="og:url" content="http://2hwp.com/index.html">
<meta property="og:site_name" content="wepon">
<meta property="og:description" content="一个机器学习爱好者的主页">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="wepon">
<meta name="twitter:description" content="一个机器学习爱好者的主页">
  
    <link rel="alternative" href="/atom.xml" title="wepon" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://7u2mpb.com1.z0.glb.clouddn.com/未名寒冬0.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">wepon</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/categories/机器学习">机器学习</a></li>
				        
							<li><a href="/categories/深度学习">深度学习</a></li>
				        
							<li><a href="/categories/计算机视觉">计算机视觉</a></li>
				        
							<li><a href="/categories/数据挖掘">数据挖掘</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="mail" target="_blank" href="/" title="mail">mail</a>
					        
								<a class="github" target="_blank" href="https://github.com/wepe" title="github">github</a>
					        
								<a class="rss" target="_blank" href="/#" title="rss">rss</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/L1/" style="font-size: 10px;">L1</a> <a href="/tags/L2-regularization/" style="font-size: 10px;">L2 regularization</a> <a href="/tags/OpenCV/" style="font-size: 10px;">OpenCV</a> <a href="/tags/dropout/" style="font-size: 10px;">dropout</a> <a href="/tags/kaggle/" style="font-size: 10px;">kaggle</a> <a href="/tags/keras/" style="font-size: 20px;">keras</a> <a href="/tags/liblinear/" style="font-size: 10px;">liblinear</a> <a href="/tags/libsvm/" style="font-size: 10px;">libsvm</a> <a href="/tags/minibatch-size/" style="font-size: 10px;">minibatch size</a> <a href="/tags/theano/" style="font-size: 20px;">theano</a> <a href="/tags/人脸检测/" style="font-size: 10px;">人脸检测</a> <a href="/tags/可视化/" style="font-size: 10px;">可视化</a> <a href="/tags/学习速率/" style="font-size: 10px;">学习速率</a> <a href="/tags/正则化/" style="font-size: 10px;">正则化</a> <a href="/tags/正则项系数/" style="font-size: 10px;">正则项系数</a> <a href="/tags/流形学习/" style="font-size: 10px;">流形学习</a> <a href="/tags/降维/" style="font-size: 10px;">降维</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">wepon</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://7u2mpb.com1.z0.glb.clouddn.com/未名寒冬0.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">wepon</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/categories/机器学习">机器学习</a></li>
		        
					<li><a href="/categories/深度学习">深度学习</a></li>
		        
					<li><a href="/categories/计算机视觉">计算机视觉</a></li>
		        
					<li><a href="/categories/数据挖掘">数据挖掘</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="mail" target="_blank" href="/" title="mail">mail</a>
			        
						<a class="github" target="_blank" href="https://github.com/wepe" title="github">github</a>
			        
						<a class="rss" target="_blank" href="/#" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-当Python装饰器碰到递归函数" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/03/当Python装饰器碰到递归函数/" class="article-date">
  	<time datetime="2015-08-02T16:00:00.000Z" itemprop="datePublished">2015-08-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/03/当Python装饰器碰到递归函数/">当Python装饰器遇上递归函数</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>不久前我在参加某比赛时，写了一些处理数据的代码，当时并没有采用SQL，而是用Python去实现。为了计算监测处理数据所耗费的时间，当时写了这样code：</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import <span class="built_in">time</span></span><br><span class="line">t_start = <span class="built_in">time</span>.<span class="built_in">time</span>()</span><br><span class="line">func()</span><br><span class="line">t_end = <span class="built_in">time</span>.<span class="built_in">time</span>()</span><br><span class="line"><span class="built_in">print</span> "run <span class="built_in">time</span> %.<span class="number">5</span>f" %(t_end-t_start)</span><br></pre></td></tr></table></figure>
<p>这样写确实没什么问题，但是一旦使用的次数多了，会发现代码非常累赘，比如说要得到func1(),func2(),func3()三个函数的运行时间，就得写三次上面的代码。</p>
<p>那时我就在想，Python没有提供实现这种功能的内置函数吗？当然，因为只是一个小问题所以当时也没有去细究。直到前阵子，在写装饰器有关的代码时，想起了这件事，一拍脑袋，这不就是我要的“内置函数”嘛，有了装饰器，实现这个计时的小功能不是分分钟的事嘛。当然，后面我又碰到了难题，请往下看。</p>
<p>首先，我写了这么一个装饰器，用来获取函数运行的时间：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">runTime</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args,**kwargs)</span>:</span></span><br><span class="line">        <span class="keyword">import</span> time</span><br><span class="line">        t1 = time.time()</span><br><span class="line">        func(*args,**kwargs)</span><br><span class="line">        t2 = time.time()</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"%s run time: %.5f s"</span> %(func.__name__,t2-t1)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure></p>
<p>然后我写了个冒泡排序来测试一下：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@runTime</span><br><span class="line">def <span class="function"><span class="title">bubbleSort</span><span class="params">(a)</span></span>:   </span><br><span class="line">    length = <span class="function"><span class="title">len</span><span class="params">(a)</span></span></span><br><span class="line">    <span class="keyword">for</span> <span class="tag">i</span> <span class="keyword">in</span> <span class="function"><span class="title">range</span><span class="params">(length)</span></span>:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="function"><span class="title">range</span><span class="params">(<span class="number">0</span>,length-<span class="number">1</span>-i)</span></span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="tag">a</span>[j] &gt; <span class="tag">a</span>[j+<span class="number">1</span>]:</span><br><span class="line">                <span class="tag">a</span>[j],<span class="tag">a</span>[j+<span class="number">1</span>]=<span class="tag">a</span>[j+<span class="number">1</span>],<span class="tag">a</span>[j]</span><br><span class="line"></span><br><span class="line"><span class="tag">a</span> = [<span class="number">5</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">4</span>]*<span class="number">100</span></span><br><span class="line"><span class="function"><span class="title">bubbleSort</span><span class="params">(a)</span></span></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Python/">Python</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/08/03/当Python装饰器碰到递归函数/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-流形学习-高维数据的降维与可视化" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/05/22/流形学习-高维数据的降维与可视化/" class="article-date">
  	<time datetime="2015-05-21T16:00:00.000Z" itemprop="datePublished">2015-05-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/22/流形学习-高维数据的降维与可视化/">流形学习-高维数据的降维与可视化</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-流形学习的概念">1.流形学习的概念</h2><p>流形学习方法(Manifold Learning)，简称流形学习，自2000年在著名的科学杂志《Science》被首次提出以来，已成为信息科学领域的研究热点。在理论和应用上，流形学习方法都具有重要的研究意义。</p>
<p>假设数据是均匀采样于一个高维欧氏空间中的低维流形，流形学习就是从高维采样数据中恢复低维流形结构，即找到高维空间中的低维流形，并求出相应的嵌入映射，以实现维数约简或者数据可视化。它是从观测到的现象中去寻找事物的本质，找到产生数据的内在规律。</p>
<blockquote>
<p>以上选自<a href="http://baike.baidu.com/link?url=vQmr30kzWc3gXfZM-6ANTtPdWJ1JyUsJR0pzoOWfjG79QK4zVZ_PvFN8BRfgHeGkqFPR-HZGsguaYuZrSTEcwK">百度百科</a></p>
</blockquote>
<p>简单地理解，流形学习方法可以用来对高维数据降维，如果将维度降到2维或3维，我们就能将原始数据可视化，从而对数据的分布有直观的了解，发现一些可能存在的规律。</p>
<h2 id="2-流形学习的分类">2.流形学习的分类</h2><p>可以将流形学习方法分为线性的和非线性的两种，线性的流形学习方法如我们熟知的主成份分析（PCA），非线性的流形学习方法如等距映射（Isomap）、拉普拉斯特征映射（Laplacian eigenmaps，LE）、局部线性嵌入(Locally-linear embedding，LLE)。</p>
<p>当然，流形学习方法不止这些，因学识尚浅，在此我就不展开了，对于它们的原理，也不是一篇文章就能说明白的。对各种流形学习方法的介绍，网上有一篇不错的读物（原作已找不到）： <a href="http://blog.csdn.net/zhulingchen/article/details/2123129">流形学习 (Manifold Learning)</a></p>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/可视化/">可视化</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/流形学习/">流形学习</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/降维/">降维</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/机器学习/">机器学习</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/05/22/流形学习-高维数据的降维与可视化/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-SQL" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/05/18/SQL/" class="article-date">
  	<time datetime="2015-05-17T16:00:00.000Z" itemprop="datePublished">2015-05-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/18/SQL/">SQL</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>终于有时间继续玩阿里的数据挖掘比赛，第二赛季限定工具，不得不先重拾一下数据库。以下笔记总结自<a href="http://www.w3school.com.cn/sql/">网络教程</a>。</p>
<hr>
<h2 id="SQL简介"><strong>SQL简介</strong></h2><ul>
<li>SQL指结构化查询语言</li>
<li>SQL是一种ANSI的标准计算机语言，存在不同的版本，但不同版本都支持一些共同的关键词。</li>
</ul>
<h2 id="SQL_语法"><strong>SQL 语法</strong></h2><ul>
<li>一个数据库通常包含一个或多个表。</li>
<li>SQL 对大小写不敏感</li>
<li><p>某些数据库系统要求在每条 SQL 命令的末端使用分号</p>
</li>
<li><p>SQL DML 和 DDL</p>
</li>
</ul>
<p>把 SQL 分为两个部分：数据操作语言 (DML) 和 数据定义语言 (DDL)</p>
<p>(1) 查询和更新指令构成了 SQL 的 DML 部分：</p>
<pre><code><span class="comment"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">SELECT - 从数据库表中获取数据</span><br><span class="line"><span class="keyword">UPDATE</span> - 更新数据库表中的数据</span><br><span class="line"><span class="keyword">DELETE</span> - 从数据库表中删除数据</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> - 向数据库表中插入数据</span></span><br></pre></td></tr></table></figure></span>
</code></pre><p>(2) SQL 中最重要的 DDL 语句:</p>
<pre><code><span class="comment"><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> - 创建新数据库</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> - 修改数据库</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> - 创建新表</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> - 变更（改变）数据库表</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> - 删除表</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">INDEX</span> - 创建索引（搜索键）</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">INDEX</span> - 删除索引</span></span><br></pre></td></tr></table></figure></span>
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/数据库/">数据库</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/05/18/SQL/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-DeepLearning tutorial（7）深度学习框架Keras的使用-进阶" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/05/08/DeepLearning tutorial（7）深度学习框架Keras的使用-进阶/" class="article-date">
  	<time datetime="2015-05-07T16:00:00.000Z" itemprop="datePublished">2015-05-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/08/DeepLearning tutorial（7）深度学习框架Keras的使用-进阶/">深度学习框架Keras的使用-进阶</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://blog.csdn.net/u012162613/article/details/45397033">上一篇文章</a>总结了Keras的基本使用方法，相信用过的同学都会觉得不可思议，太简洁了。十多天前，我在github上发现这个框架的时候，关注Keras的人还比较少，这两天无论是github还是微薄，都看到越来越多的人关注和使用Keras。所以这篇文章就简单地再介绍一下Keras的使用,方便各位入门。</p>
<p>主要包括以下三个内容：</p>
<ul>
<li>训练CNN并保存训练好的模型。</li>
<li>将CNN用于特征提取，用提取出来的特征训练SVM。</li>
<li>可视化CNN卷积层后的特征图。</li>
</ul>
<p>仍然以Mnist为例，代码中用的Mnist数据到这里下载<br><a href="http://pan.baidu.com/s/1qCdS6">http://pan.baidu.com/s/1qCdS6</a>,本文的代码在我的github上:<a href="https://github.com/wepe/MachineLearning/tree/master/DeepLearning%20Tutorials">dive_into _keras</a></p>
<hr>
<h2 id="1-_加载数据"><strong>1. 加载数据</strong></h2><p>数据是图片格式，利用pyhton的PIL模块读取，并转为numpy.array类型。这部分的代码在<code>data.py</code>里：</p>
<hr>
<h2 id="2-_训练CNN并保存训练好的CNN模型"><strong>2. 训练CNN并保存训练好的CNN模型</strong></h2><p>将上一步加载进来的数据分为训练数据（X_train，30000个样本）和验证数据（X_val，12000个样本），构建CNN模型并训练。训练过程中，每一个epoch得到的val-accuracy都不一样，我们保存达到最好的val-accuracy时的模型，利用Python的cPickle模块保持。（Keras的开发者最近在添加用hdf5保持模型的功能，我试了一下，没用成功，去github发了issue也没人回，估计还没完善，hdf5压缩率会更高，保存下来的文件会更小。）</p>
<p>这部分的代码在<code>cnn.py</code>里，运行:</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">python</span> cnn.<span class="keyword">py</span></span><br></pre></td></tr></table></figure>
<p>在第Epoch 4得到96.45%的validation accuracy,运行完后会得到model.pkl这份文件，保存的就是96.45%对应的模型：</p>
<p><img src="http://img.blog.csdn.net/20150508155724085" alt="这里写图片描述"></p>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/keras/">keras</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/theano/">theano</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/深度学习/">深度学习</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/05/08/DeepLearning tutorial（7）深度学习框架Keras的使用-进阶/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-DeepLearning tutorial（6）易用的深度学习框架Keras简介" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/30/DeepLearning tutorial（6）易用的深度学习框架Keras简介/" class="article-date">
  	<time datetime="2015-04-29T16:00:00.000Z" itemprop="datePublished">2015-04-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/30/DeepLearning tutorial（6）易用的深度学习框架Keras简介/">易用的深度学习框架Keras简介</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前我一直在使用Theano，前面五篇Deeplearning相关的文章也是学习Theano的一些笔记，当时已经觉得Theano用起来略显麻烦，有时想实现一个新的结构，就要花很多时间去编程，所以想过将代码模块化，方便重复使用，但因为实在太忙没有时间去做。最近发现了一个叫做Keras的框架，跟我的想法不谋而合，用起来特别简单，适合快速开发。</p>
<h2 id="1-_Keras简介"><strong>1. Keras简介</strong></h2><p>Keras是基于Theano的一个深度学习框架，它的设计参考了Torch，用Python语言编写，是一个高度模块化的神经网络库，支持GPU和CPU。使用文档在这：<a href="http://keras.io/，这个框架貌似是刚刚火起来的，使用上的问题可以到github提issue:https://github.com/fchollet/keras">http://keras.io/，这个框架貌似是刚刚火起来的，使用上的问题可以到github提issue:https://github.com/fchollet/keras</a>　</p>
<p>下面简单介绍一下怎么使用Keras，以Mnist数据库为例,编写一个CNN网络结构，你将会发现特别简单。</p>
<h2 id="2-_Keras里的模块介绍"><strong>2. Keras里的模块介绍</strong></h2><ul>
<li><p><strong>Optimizers</strong></p>
<p>  顾名思义，Optimizers包含了一些优化的方法，比如最基本的随机梯度下降SGD,另外还有Adagrad、Adadelta、RMSprop、Adam，一些新的方法以后也会被不断添加进来。</p>
  <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keras.optimizers.SGD(lr=<span class="number">0.01</span>, momentum=<span class="number">0.9</span>, decay=<span class="number">0.9</span>, nesterov=False)</span><br></pre></td></tr></table></figure>
<p>  上面的代码是SGD的使用方法，lr表示学习速率,momentum表示动量项，decay是学习速率的衰减系数(每个epoch衰减一次),Nesterov的值是False或者True，表示使不使用Nesterov momentum。其他的请参考文档。</p>
</li>
<li><p><strong>Objectives</strong></p>
<p>  这是目标函数模块，keras提供了mean_squared_error，mean_absolute_error<br>  ，squared_hinge，hinge，binary_crossentropy，categorical_crossentropy这几种目标函数。</p>
<p>  这里binary_crossentropy 和 categorical_crossentropy也就是常说的logloss.</p>
</li>
</ul>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/keras/">keras</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/theano/">theano</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/深度学习/">深度学习</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/04/30/DeepLearning tutorial（6）易用的深度学习框架Keras简介/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-libsvm和liblinear的使用总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/22/libsvm和liblinear的使用总结/" class="article-date">
  	<time datetime="2015-04-21T16:00:00.000Z" itemprop="datePublished">2015-04-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/22/libsvm和liblinear的使用总结/">libsvm和liblinear的使用总结</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="0-安装方法">0.安装方法</h2><p>unix系统下的安装方法：到<a href="http://www.csie.ntu.edu.tw/~cjlin/libsvm/index.html">官网</a>下载源包（目前最新版本为libsvm-3.20、liblinear-1.96），解压后，打开终端进入makefile所在的目录,键入make即可。</p>
<p>以下为一些基本的使用命令，ubuntu系统下。</p>
<h2 id="1-生成符合要求的数据格式，以图像数据为例">1.生成符合要求的数据格式，以图像数据为例</h2><p>(1). 从图像库得到csv文件 （csv文件里每一行存储一张图：label,feat1,feat2,…..），在终端下键入：</p>
<pre><code>python gen_datafile<span class="class">.py</span> 
</code></pre><blockquote>
<p>注：gen_datafile.py是我自己写的一个python脚本，放在我的<a href="https://github.com/wepe/MachineLearning/tree/master/SVM/libsvm%20liblinear-usage">github</a></p>
</blockquote>
<p>(2).  编译convert.c生成可执行文件 a.out，在终端下键入：</p>
<pre><code><span class="tag">gcc</span> <span class="tag">convert</span><span class="class">.c</span>
</code></pre><blockquote>
<p>注：convert.c同样放在我的github</p>
</blockquote>
<p>(3). 用上面得到的csv文件和a.out文件生成libsvm格式的文件, 在终端下键入:</p>
<pre><code>./<span class="tag">a</span><span class="class">.out</span> csvfile &gt; targetfile
</code></pre><blockquote>
<p>注：targetfile是存放最终数据的文件。</p>
</blockquote>
<h2 id="2-训练模型的命令">2.训练模型的命令</h2><p> 在终端下切换到目录liblinear-1.96或libsvm-3.20，然后键入以下命令，会提示具体用法：</p>
<pre><code>./svm-train <span class="params">(liblinear为./train)</span>
./svm-predict <span class="params">(liblinear为./predict)</span>
./svm-<span class="built_in">scale</span> （数据缩放）
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/liblinear/">liblinear</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/libsvm/">libsvm</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/机器学习/">机器学习</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/04/22/libsvm和liblinear的使用总结/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-Kaggle比赛-Otto Group Product Classification-打败一半参赛队伍的简单解法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/24/Kaggle比赛-Otto Group Product Classification-打败一半参赛队伍的简单解法/" class="article-date">
  	<time datetime="2015-03-23T16:00:00.000Z" itemprop="datePublished">2015-03-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/24/Kaggle比赛-Otto Group Product Classification-打败一半参赛队伍的简单解法/">Kaggle比赛-Otto Group Product Classification</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="简介">简介</h2><p><a href="https://www.kaggle.com/c/otto-group-product-classification-challenge">Otto Group Product Classification Challenge</a>是Kaggle上目前正在进行的一个比赛，目前已1000+队伍参赛，由Otto公司赞助1W美刀，数据也是来自于该公司的产品，提供了train.csv、test.csv、samplesubmission.csv三份数据。train.csv里包含了6万多个样本，每个样本有一个id，93个特征值feat_1~feat_93,以及类别target，一共9种类别：class_1~class_9。test.csv里有14万多测试样本，只有id以及93个特征，参赛者的任务是对这些样本分类。</p>
<hr>
<h2 id="提交结果的格式">提交结果的格式</h2><p>官网上给出的格式：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id,Class_1,Class_2,Class_3,Class_4,Class_5,Class_6,Class_7,Class_8,Class_9</span><br><span class="line">		<span class="number">1</span>,<span class="number">0.0</span>,<span class="number">0.0</span>,<span class="number">0.0</span>,<span class="number">0.0</span>,<span class="number">1.0</span>,<span class="number">0.0</span>,<span class="number">0.0</span>,<span class="number">0.0</span>,<span class="number">0.0</span></span><br><span class="line">		<span class="number">2</span>,<span class="number">0.0</span>,<span class="number">0.2</span>,<span class="number">0.3</span>,<span class="number">0.3</span>,<span class="number">0.0</span>,<span class="number">0.0</span>,<span class="number">0.1</span>,<span class="number">0.1</span>,<span class="number">0.0</span></span><br></pre></td></tr></table></figure>
<p>也就是说，可以不用给出确切的类别，给出属于各个类别的概率也行。这一点很重要，我一开始没注意看，浪费了许多精力瞎折腾。所以但凡比赛，官网给出的信息最好都仔细看一遍。</p>
<hr>
<h2 id="评分标准">评分标准</h2><p>评分的公式见：<a href="https://www.kaggle.com/c/otto-group-product-classification-challenge/details/evaluation">这里</a></p>
<p><img src="http://i.imgur.com/yoVmodI.jpg" alt=""></p>
<p>我稍微解释一下这条公式，i表示样本，j表示类别。Pij代表第i个样本属于类别j的概率，如果第i个样本真的属于类别j，则yij等于1，否则为0。</p>
<p>假如你将所有的测试样本都正确分类，所有pij都是1，那每个log(pij)都是0，最终的logloss也是0。</p>
<p>假如第1个样本本来是属于1类别的，但是你给它的类别概率pij=0.1，那logloss就会累加上log(0.1)这一项。我们知道这一项是负数，而且pij越小，负得越多，如果pij=0，将是无穷。这会导致这种情况：你分错了一个，logloss就是无穷。这当然不合理，为了避免这一情况，官方是这样处理的：<br><img src="http://i.imgur.com/LDdL0CP.jpg" alt=""></p>
<p>也就是说最小不会小于10^-15。</p>
<h2 id="<!-more->">
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kaggle/">kaggle</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/机器学习/">机器学习</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/03/24/Kaggle比赛-Otto Group Product Classification-打败一半参赛队伍的简单解法/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-《Python核心编程》数字类型" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/16/《Python核心编程》数字类型/" class="article-date">
  	<time datetime="2015-03-15T16:00:00.000Z" itemprop="datePublished">2015-03-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/16/《Python核心编程》数字类型/">《Python核心编程》数字类型</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1、数字类型简介">1、数字类型简介</h2><ul>
<li>Python中数字类型包括：整型、长整型、布尔型、双精度浮点型、十进制浮点型、复数。这些数字类型都是不可变类型，也就是说，改变了数字的值会生成新的对象。</li>
<li>在Python中删除数字对象，可以用语句：del aInt,aLong,aFloat,aComplex</li>
</ul>
<h2 id="2、整型">2、整型</h2><ul>
<li><p>布尔型</p>
<p>  取值范围只有两个值，True和False。它们在数学运算中对应1和0.</p>
<p>  对于值为0的任何数字或空集（空列表、空元组、空字典等）在Python中的布尔值都是False。</p>
</li>
</ul>
<ul>
<li><p>长整型</p>
<p>  在其他编程语言中，比如C++中，int占用了32位，long int则取决于机器字长，long long int为64位。而在Python中，标准整型一般也是占用32位，但是如果在64位机器上用64位的编译器编译Python，则整型占用64位。</p>
<p>  Python中长整型可以支持的范围很大，仅仅取决机器支持的虚拟内存大小。长整型的声明：直接在数字后加L：12345L</p>
<p>  Python中整型与长整型逐渐统一为一种，所以使用时不用去关心整型还是长整型。</p>
</li>
</ul>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Python/">Python</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/03/16/《Python核心编程》数字类型/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-机器学习算法中如何选取超参数：学习速率、正则项系数、minibatch size" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/14/机器学习算法中如何选取超参数：学习速率、正则项系数、minibatch size/" class="article-date">
  	<time datetime="2015-03-13T16:00:00.000Z" itemprop="datePublished">2015-03-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/14/机器学习算法中如何选取超参数：学习速率、正则项系数、minibatch size/">机器学习算法中如何选取超参数：学习速率、正则项系数、minibatch size</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文是<a href="http://blog.csdn.net/u012162613/article/details/44220115">《Neural networks and deep learning》概览</a> 中第三章的一部分，讲机器学习算法中，如何选取初始的超参数的值。（本文会不断补充）</p>
<hr>
<h2 id="学习速率（learning_rate，η）"><strong>学习速率（learning rate，η）</strong></h2><p>运用梯度下降算法进行优化时，权重的更新规则中，在梯度项前会乘以一个系数，这个系数就叫学习速率η。下面讨论在训练时选取η的策略。</p>
<ul>
<li>固定的学习速率。如果学习速率太小，则会使收敛过慢，如果学习速率太大，则会导致代价函数振荡，如下图所示。就下图来说，一个比较好的策略是先将学习速率设置为0.25，然后在训练到第20个Epoch时，学习速率改为0.025。</li>
</ul>
<p><img src="http://i.imgur.com/TOoT86N.png" alt=""></p>
<p>关于为什么学习速率太大时会振荡，看看这张图就知道了，绿色的球和箭头代表当前所处的位置，以及梯度的方向，学习速率越大，那么往箭头方向前进得越多，如果太大则会导致直接跨过谷底到达另一端，所谓“步子太大，迈过山谷”。</p>
<p><img src="http://i.imgur.com/fuSenrH.png" alt=""></p>
<p>在实践中，怎么粗略地确定一个比较好的学习速率呢？好像也只能通过尝试。你可以先把学习速率设置为0.01，然后观察training cost的走向，如果cost在减小，那你可以逐步地调大学习速率，试试0.1，1.0….如果cost在增大，那就得减小学习速率，试试0.001，0.0001….经过一番尝试之后，你可以大概确定学习速率的合适的值。</p>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/minibatch-size/">minibatch size</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习速率/">学习速率</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/正则项系数/">正则项系数</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/机器学习/">机器学习</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/03/14/机器学习算法中如何选取超参数：学习速率、正则项系数、minibatch size/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-正则化方法：L1和L2 regularization、数据集扩增、dropout" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/14/正则化方法：L1和L2 regularization、数据集扩增、dropout/" class="article-date">
  	<time datetime="2015-03-13T16:00:00.000Z" itemprop="datePublished">2015-03-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/14/正则化方法：L1和L2 regularization、数据集扩增、dropout/">正则化方法：L1和L2 regularization、数据集扩增、dropout</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文是<a href="http://blog.csdn.net/u012162613/article/details/44220115">《Neural networks and deep learning》概览</a> 中第三章的一部分，讲机器学习/深度学习算法中常用的正则化方法。（本文会不断补充）</p>
<hr>
<h2 id="正则化方法：防止过拟合，提高泛化能力"><strong>正则化方法：防止过拟合，提高泛化能力</strong></h2><p>在训练数据不够多时，或者overtraining时，常常会导致overfitting（过拟合）。其直观的表现如下图所示，随着训练过程的进行，模型复杂度增加，在training data上的error渐渐减小，但是在验证集上的error却反而渐渐增大——因为训练出来的网络过拟合了训练集，对训练集外的数据却不work。</p>
<p><img src="http://i.imgur.com/OhX9eFQ.jpg" alt=""></p>
<p>为了防止overfitting，可以用的方法有很多，下文就将以此展开。有一个概念需要先说明，在机器学习算法中，我们常常将原始数据集分为三部分：training data、validation data，testing data。这个validation data是什么？它其实就是用来避免过拟合的，在训练过程中，我们通常用它来确定一些超参数（比如根据validation data上的accuracy来确定early stopping的epoch大小、根据validation data确定learning rate等等）。那为啥不直接在testing data上做这些呢？因为如果在testing data做这些，那么随着训练的进行，我们的网络实际上就是在一点一点地overfitting我们的testing data，导致最后得到的testing accuracy没有任何参考意义。因此，training data的作用是计算梯度更新权重，validation data如上所述，testing data则给出一个accuracy以判断网络的好坏。</p>
<p>避免过拟合的方法有很多：early stopping、数据集扩增（Data augmentation）、正则化（Regularization）包括L1、L2（L2 regularization也叫weight decay），dropout。</p>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/L1/">L1</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/L2-regularization/">L2 regularization</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dropout/">dropout</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/正则化/">正则化</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/机器学习/">机器学习</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/03/14/正则化方法：L1和L2 regularization、数据集扩增、dropout/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-交叉熵代价函数" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/13/交叉熵代价函数/" class="article-date">
  	<time datetime="2015-03-12T16:00:00.000Z" itemprop="datePublished">2015-03-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/13/交叉熵代价函数/">交叉熵代价函数</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文是<a href="http://blog.csdn.net/u012162613/article/details/44220115">《Neural networks and deep learning》概览</a> 中第三章的一部分，讲machine learning算法中用得很多的交叉熵代价函数。</p>
<h2 id="1-从方差代价函数说起"><strong>1.从方差代价函数说起</strong></h2><p>代价函数经常用方差代价函数（即采用均方误差MSE），比如对于一个神经元（单输入单输出，sigmoid函数）,定义其代价函数为：</p>
<p><img src="http://i.imgur.com/D4n2Dsz.jpg" alt=""> </p>
<p>其中y是我们期望的输出，a为神经元的实际输出【 a=σ(z), where z=wx+b 】。</p>
<p>在训练神经网络过程中，我们通过梯度下降算法来更新w和b，因此需要计算代价函数对w和b的导数：</p>
<p><img src="http://i.imgur.com/bTVarWP.jpg" alt=""></p>
<p>然后更新w、b：</p>
<p>w &lt;—— w - η<em> ∂C/∂w = w - η </em> a *σ′(z)</p>
<p>b &lt;—— b - η<em> ∂C/∂b = b - η </em> a * σ′(z)</p>
<p>因为sigmoid函数的性质，导致σ′(z)在z取大部分值时会很小（如下图标出来的两端，几近于平坦），这样会使得w和b更新非常慢（因为η <em> a </em> σ′(z)这一项接近于0）。</p>
<p><img src="http://i.imgur.com/TVWKd7e.jpg" alt=""></p>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/机器学习/">机器学习</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/03/13/交叉熵代价函数/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-OpenCV人脸检测（C++代码）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/05/OpenCV人脸检测（C++代码）/" class="article-date">
  	<time datetime="2015-03-05T11:07:43.000Z" itemprop="datePublished">2015-03-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/05/OpenCV人脸检测（C++代码）/">OpenCV人脸检测（C++代码）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这篇文章简单总结一下人脸检测的代码实现，基于OpenCV，C++版本。之所以强调C++版本是因为OpenCV有很多其他语言的接口，之前我也写过人脸检测的Python实现<a href="http://blog.csdn.net/u012162613/article/details/43523507">《Python-OpenCV人脸检测(代码)》</a>，这篇文章则讲C++实现，其实大同小异，C++相比于Python实现代码写起来会繁琐一点，这也是语言本身决定的吧。</p>
<p>为了保持代码风格一致，C++实现与之前的Python实现一样，都将人脸检测、眼睛检测、框出人脸、框出眼睛、截取保存人脸各个功能封装为函数，方便移植。</p>
<hr>
<h2 id="1、OpenCV中人脸检测采用的算法"><strong>1、OpenCV中人脸检测采用的算法</strong></h2><p>在安装OpenCV的路径中（window系统），我们可以发现”…\opencv\sources\data”目录下有如下三个文件夹：</p>
<p><img src="http://i.imgur.com/dIWW0X1.jpg" alt=""></p>
<p>这正是OpenCV采用的算法。haarcascades文件下存放的是采用Haar特征的级联分类器（Cascade Classfier），hogcascades下存放采用HOG特征（梯度方向直方图）的级联分类器，lbpcascades下存放的是采用LBP特征的级联分类器。关于图像的Haar、LBP、HOG、SIFT等特征我将写另外的博文进行总结，这里就不详细展开。图中三个文件夹下存放了很多xml文件，这些是预先训练好的特征，用于构造分类器的，有人脸检测的、眼睛检测的、smile检测的、行人检测的等等。</p>
<p>在这篇文章中，仅以haarcascas下的”haarcascade_frontalface_alt.xml”和”haarcascade_eye.xml”作为例子。主要代码在下文讲解，更多代码也可以到我的github获取：<strong><a href="https://github.com/wepe/OpenCV-demo">here</a></strong>。</p>
<h2 id="2、代码实现"><strong>2、代码实现</strong></h2><p>这个demo以下图为输入：</p>
<p><img src="http://i.imgur.com/TzUF9sz.jpg" alt=""></p>
<ul>
<li><p><strong>图像预处理</strong></p>
<ul>
<li>转化为灰度图</li>
<li>直方图均衡化</li>
</ul>
</li>
</ul>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Mat img = imread<span class="list">(<span class="string">"obama.jpg"</span>)</span><span class="comment">;</span></span><br><span class="line">Mat img_gray<span class="comment">;</span></span><br><span class="line">cvtColor<span class="list">(<span class="keyword">img</span>,img_gray,COLOR_BGR2GRAY )</span><span class="comment">;</span></span><br><span class="line">equalizeHist<span class="list">(<span class="keyword">img_gray</span>,img_gray)</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenCV/">OpenCV</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/人脸检测/">人脸检测</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/计算机视觉/">计算机视觉</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/03/05/OpenCV人脸检测（C++代码）/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-《Python核心编程》笔记  Python对象" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/04/《Python核心编程》笔记  Python对象/" class="article-date">
  	<time datetime="2015-03-03T16:00:00.000Z" itemprop="datePublished">2015-03-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/04/《Python核心编程》笔记  Python对象/">Python对象</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1、Python对象">1、Python对象</h3><p>Python使用对象模型来存储数据，构造任何类型的值都是一个对象。所有的对象都有三个特性：</p>
<ul>
<li>身份，可通过内建函数id()查看，这个值即该对象的内存地址。</li>
<li>类型，可通过内建函数type()查看。</li>
<li>值，对象表示的数据项。</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="prompt">&gt;&gt;</span>&gt; p = <span class="number">12</span></span><br><span class="line"><span class="prompt">&gt;&gt;</span>&gt; id(p)</span><br><span class="line"><span class="number">31108092</span></span><br><span class="line"><span class="prompt">&gt;&gt;</span>&gt; type(p)</span><br><span class="line">&lt;type <span class="string">'int'</span>&gt;</span><br><span class="line"><span class="prompt">&gt;&gt;</span>&gt; p</span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="prompt">&gt;&gt;</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="2、标准类型">2、标准类型</h3><p>整型Integer，长整型Long integer，浮点型float，复数型complex number，布尔型bool，字符串string，列表list，元组tuple，字典dictionary。</p>
<h3 id="3、其他内建类型">3、其他内建类型</h3><ul>
<li><p>type类型对象</p>
<p>  type类型本身就是一个对象，它的类型为‘type’。</p>
</li>
</ul>
<figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; <span class="typedef"><span class="keyword">type</span><span class="container">(1)</span></span></span><br><span class="line">&lt;<span class="typedef"><span class="keyword">type</span> 'int'&gt;</span></span><br><span class="line">&gt;&gt;&gt; <span class="typedef"><span class="keyword">type</span><span class="container">(<span class="title">type</span>(1)</span>)</span></span><br><span class="line">&lt;<span class="typedef"><span class="keyword">type</span> '<span class="keyword">type</span>'&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>None——Python的Null对象</p>
<p>  Python有一个特殊的类型，称作Null对象或者NoneType，它只有一个值：None，None的布尔值为False。</p>
</li>
<li><p>文件</p>
</li>
<li>集合</li>
<li>函数/方法</li>
<li>模块</li>
<li>类</li>
</ul>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Python/">Python</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/03/04/《Python核心编程》笔记  Python对象/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-《Python核心编程》笔记  基础" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/02/27/《Python核心编程》笔记  基础/" class="article-date">
  	<time datetime="2015-02-26T16:00:00.000Z" itemprop="datePublished">2015-02-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/02/27/《Python核心编程》笔记  基础/">《Python核心编程》笔记 基础</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>春节终于over了，回归充实的学习研究生活。打开久违的CSDN博客，看到官方推送的 <a href="http://blog.csdn.net/csdnproduct/article/details/43561659">『博客Markdown编辑器上线啦』</a>，让我顿时有了写作的欲望，真是程序员的福利。之前阅读各种文章书籍，都是用MarkDownPad做的笔记，喜欢以及习惯于MarkDown简洁的语法。</p>
<p>总之各种方便。为了试试效果，将以前阅读《Python核心编程》的手记整理发上来，也当温习一遍。</p>
<h2 id="第三章_Python基础">第三章 Python基础</h2><h3 id="1、语句和语法">1、语句和语法</h3><ul>
<li><p>注释</p>
<p>  Python中注释用符号“#”，也可以用三引号：’’’ 注释内容 ‘’’</p>
</li>
</ul>
<ul>
<li><p>继续</p>
<p>  过长的语句，可以用反斜杠\,将一行分解为几行：</p>
</li>
</ul>
<pre><code><span class="comment"><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="literal">a</span>==<span class="number">1</span> <span class="literal">and</span> \</span><br><span class="line"><span class="label">       b==0 :</span></span><br></pre></td></tr></table></figure></span>
</code></pre><ul>
<li><p>Python缩进风格</p>
<p>  Pyhton使用缩进来分隔代码组，缩进可以为空格、制表符Tab（另：推荐使用4个空格来缩进，并且尽量不要用tab键，因为不同平台tab键的代表的空白宽度不一样。）</p>
</li>
<li><p>多个语句写在同一行上</p>
<p>  把多个语句写在同一行上是不推荐的，因为可读性会大大降低。如果非要这么做，也是允许的。</p>
  <figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor"><span class="keyword">import</span> sys;</span> x  = <span class="string">'foo'</span>; sys.stdout.write(x)</span><br></pre></td></tr></table></figure>
</li>
<li><p>模块</p>
<p>  通过import导入</p>
</li>
</ul>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Python/">Python</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/02/27/《Python核心编程》笔记  基础/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-《Python核心编程 》笔记-快速入门" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/02/27/《Python核心编程 》笔记-快速入门/" class="article-date">
  	<time datetime="2015-02-26T16:00:00.000Z" itemprop="datePublished">2015-02-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/02/27/《Python核心编程 》笔记-快速入门/">《Python核心编程 》笔记-快速入门</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>春节终于over了，回归充实的学习研究生活。打开久违的CSDN博客，看到官方推送的 <a href="http://blog.csdn.net/csdnproduct/article/details/43561659">『博客Markdown编辑器上线啦』</a>，让我顿时有了写作的欲望，真是程序员的福利。之前阅读各种文章书籍，都是用MarkDownPad做的笔记，喜欢以及习惯于MarkDown简洁的语法。</p>
<p>总之各种方便。为了试试效果，将以前阅读《Python核心编程》的手记整理发上来，也当温习一遍。</p>
<h2 id="第二章_快速入门">第二章 快速入门</h2><ul>
<li>print语句中使用字符串格式操作符，实现字符替换功能。</li>
</ul>
<pre><code><span class="xml"><span class="comment"><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> <span class="string">"<span class="variable">%s</span> is <span class="variable">%d</span>"</span> <span class="variable">%(</span><span class="string">"one"</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure></span>
</span><span class="perl">
<span class="variable">%s</span>、<span class="variable">%d</span>、<span class="variable">%f</span>分别用字符串、整型、浮点类型数据来替换。</span><span class="xml"></span>
</code></pre><ul>
<li><p>print语句重定向</p>
  <figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">logfile = <span class="keyword">open</span>(<span class="string">'/tmp/mylog.txt'</span>,<span class="string">'a'</span>)</span><br><span class="line"><span class="keyword">print</span> &amp;<span class="keyword">gt</span>;&amp;<span class="keyword">gt</span>; logfile,<span class="string">'something....'</span></span><br><span class="line">logfile.<span class="keyword">close</span>()</span><br></pre></td></tr></table></figure>
<p>  符号&gt;&gt;是用来重定向的，上面的代码将输出添加到日志文件mylog.txt中。</p>
</li>
<li><p>raw_input内建函数，读取键盘输入，返回值类型是字符串。</p>
  <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="function"><span class="title">raw_input</span><span class="params">(<span class="string">'some tips：'</span>)</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Python/">Python</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/02/27/《Python核心编程 》笔记-快速入门/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 wepon
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>